<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.1.0/css/datepicker.min.css">
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/air-datepicker@2.2.3/dist/js/datepicker.min.js"></script>

<style>
    * {
        font-size: 0;
        margin: 0;
    }

    header {
        background-color: #5cc4ef;
    }

    .head {
        font-size: 16px;
        height: 100px;
        text-align: center;
    }

    main {
        width: 1080px;
        height: 760px;
        margin: 0 auto;
        /* padding: 10px; */
        background-color: rgba(231, 228, 228, 0.536);
        display: flex;
    }

    .menu {
        background-color: white;
        width: 195px;
        height: 730px;
        border-radius: 5px;
        margin: 15px 0 15px 15px;
        display: inline-block;
    }

    .menu>div {
        background-color: #5cc4ef;
        width: 175px;
        height: 51px;
        border-radius: 5px;
    }

    .menu>div:nth-child(n+2) {
        margin: 0 10px 10px 10px;
    }

    .h_menu {
        margin: 10px;
    }

    .contents {
        width: 840px;
    }

    .info {
        width: 840px;
        height: 730px;
        margin: 15px;
        background-color: white;
        border-radius: 5px;
    }
    #input{
        display: none;
    }
    .my_info {
        width: 810px;
        height: 100px;
        border-radius: 5px;
        background-color: #5cc4ef;
        margin: 15px;
    }
    .datepicker *{
        font-size: 14px;
    }
    .datepicker--day-name{
        /* color: #2d1dab; */
        font-weight: 700;
    }
    #date{
        width: 200px;
        height: 270px;
    }
    .datepicker{
        width: 200px;
        height: 240px;
        border: none;
    }
    .date_del, .date_write{
        width: 100px;
        height: 30px;
        line-height: 30px;
        display: inline-block;
        font-size: 16px;
        text-align: center;
        color: #5cc4ef;
        font-weight: 600;
        cursor: pointer;
        border-radius: 5px;
    }

    #expenseType{
        display: inline-block;
        width: 145px;
        height: 135px;
        margin: 0 15px;
        background-color: #5cc4ef50;
        border-radius: 5px;
    }
    .radio_extype {
        display: none;
    }
    .radio_extype + span {
        margin: 5px;
        border-radius: 5px;
        background-color:white;
        text-align: center;
        cursor: pointer;
        font-size: 16px;
        display: inline-block;
        width: 135px;
        height: 35px;
        line-height: 35px;
        vertical-align: top;
    }
    #expenseContents{
        display: inline-block;
        vertical-align: top;
        width: 650px;
        height: 135px;
        margin-right: 15px;
        background-color: #5cc4ef50;
        border-radius: 5px;
    }
    .radio_contype{
        display: none;
    }
    .radio_contype + span{
        margin: 5px;
        border-radius: 5px;
        background-color:white;
        text-align: center;
        cursor: pointer;
        font-size: 16px;
        display: inline-block;
        width: 98px;
        height: 35px;
        line-height: 35px;
        vertical-align: top;
    }
</style>
<main>
    <section class="menu">
        <div class="h_menu">

        </div>
        <div>

        </div>
    </section>
    <section class="contents">
        <div class="info">
            <form method="post" action="/api/insert">
                회원 아이디/구분/항목/상세/날짜/금액/메모
                <div class="my_info">

                </div>
                <div id="expenseType">
                    <input class="radio_extype" type="radio" name="extype" value="regular" checked>
                    <span>정기지출</span>
                    <input class="radio_extype" type="radio" name="extype" value="irregular">
                    <span>비정기지출</span>
                    <input class="radio_extype" type="radio" name="extype" value="saving">
                    <span>저축</span>
                </div>
                <div id="expenseContents">
                    <input class="radio_contype regular" type="radio" name="contype" value="공과금">
                    <span>공과금</span>
                    <input class="radio_contype regular" type="radio" name="contype" value="관리비">
                    <span>관리비</span>
                    <input class="radio_contype regular" type="radio" name="contype" value="통신비">
                    <span>통신비</span>
                    <input class="radio_contype irregular" type="radio" name="contype" value="식비">
                    <span>식비</span>
                    <input class="radio_contype irregular" type="radio" name="contype" value="교육">
                    <span>교육</span>
                    <input class="radio_contype irregular" type="radio" name="contype" value="교통">
                    <span>교통</span>
                    <input class="radio_contype irregular" type="radio" name="contype" value="의료">
                    <span>의료</span>
                    <input class="radio_contype saving" type="radio" name="contype" value="저축">
                    <span>저축</span>
                </div>
                <div id="date" class="items">
                    <input type="text" id="input"/>
                    <div class="date_del p_btns">지우기</div>
                    <div class="date_write p_btns">작성</div>
                </div>
            </form>
        </div>
    </section>
</main>
<script>
    $('#input').datepicker({
        inline: true,
        // range: true,
        multipleDatesSeparator: ' - ',
        language: {
            daysMin: ['일', '월', '화', '수', '목', '금', '토'],
            months: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
            monthsShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
            dateFormat: 'yyyy-mm-dd',
            firstDay: 0,
        },
        navTitles: {
            days: '<h1>yyyy</h1>,' + '<h1> &nbsp;MM<h1>'
        },
        minDate: new Date(),
        buttons: ['today'],
        dateFormat: 'yyyy-mm-dd',
        onSelect: function (formattedDate, date, picker) {
			if (date) {
                $('.selected_date').text(formattedDate);
			} else {
				$('.selected_date').text('');
			}
		}
    });
    $('.date_write').on("click",function(){
        $(".selected_date").css("display","inline-block");
    })
    $('.date_del').on("click",function(){
        $(".selected_date").css("display","none");
    })
</script>
<script>
    radio_event()
    function radio_event(){
        let expenses = document.querySelectorAll(".radio_extype + span")
        let expense = document.querySelectorAll(".radio_extype")
        expense[0].checked = true
        expenses[0].style.backgroundColor = "#5cc4ef"
        selected_contents(0)
        for(let i = 0 ; i<expenses.length ;i++){
            expenses[i].addEventListener("click",function(){
                expense[i].checked = true
                if(expense[i].checked)
                    expenses[i].style.backgroundColor = "#5cc4ef"
                for(let j = 0 ;j<expenses.length ;j++)
                    if(i!=j)
                        expenses[j].style.backgroundColor = "white"
                selected_contents(i)
            })
        }
    }
    function selected_contents(a){
            let contents = document.querySelectorAll(".radio_contype")
            let contspan = document.querySelectorAll(".radio_contype + span")
            if(a==0){
                for(let j = 0 ;j<contents.length;j++)
                    if(!contents[j].classList.contains("regular"))
                        contspan[j].style.display = "none"
                    else
                        contspan[j].style.display = "inline-block"
            } else if(a==1){
                for(let j = 0 ;j<contents.length;j++)
                    if(!contents[j].classList.contains("irregular"))
                        contspan[j].style.display = "none"
                    else
                        contspan[j].style.display = "inline-block"
            } else{
                for(let j = 0 ;j<contents.length;j++)
                    if(!contents[j].classList.contains("saving"))
                        contspan[j].style.display = "none"
                    else
                        contspan[j].style.display = "inline-block"
            }
    }
</script>